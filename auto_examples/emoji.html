

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Emoji Example &mdash; wordcloud 1.5.0.post14+g4f6a3f3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using custom colors" href="a_new_hope.html" />
    <link rel="prev" title="Image-colored wordcloud" href="colored.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> wordcloud
          

          
          </a>

          
            
            
              <div class="version">
                1.5.0.post14+g4f6a3f3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../references.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Gallery of Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="single_word.html">Single Word</a></li>
<li class="toctree-l2"><a class="reference internal" href="simple.html">Minimal Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="masked.html">Masked wordcloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="frequency.html">Using frequency</a></li>
<li class="toctree-l2"><a class="reference internal" href="colored.html">Image-colored wordcloud</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Emoji Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="a_new_hope.html">Using custom colors</a></li>
<li class="toctree-l2"><a class="reference internal" href="wordcloud_cn.html">create wordcloud with chinese</a></li>
<li class="toctree-l2"><a class="reference internal" href="colored_by_group.html">Colored by Group Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributor Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../make_a_release.html">Making a release</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">wordcloud</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Gallery of Examples</a> &raquo;</li>
        
      <li>Emoji Example</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/auto_examples/emoji.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Click <a class="reference internal" href="#sphx-glr-download-auto-examples-emoji-py"><span class="std std-ref">here</span></a> to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="emoji-example">
<span id="sphx-glr-auto-examples-emoji-py"></span><h1>Emoji Example<a class="headerlink" href="#emoji-example" title="Permalink to this headline">Â¶</a></h1>
<p>A simple example that shows how to include emoji.  Note that this example does not seem to work on OS X, but does
work correctly in Ubuntu.</p>
<p>There are 3 important steps to follow to include emoji:
1) Read the text input with io.open instead of the built in open.  This ensures that it is loaded as UTF-8
2) Override the regular expression used by word cloud to parse the text into words.  The default expression
will only match ascii words
3) Override the default font to something that supports emoji.  The included Symbola font includes black and
white outlines for most emoji.  There are currently issues with the PIL/Pillow library that seem to prevent
it from functioning correctly on OS X (<a class="reference external" href="https://github.com/python-pillow/Pillow/issues/1774">https://github.com/python-pillow/Pillow/issues/1774</a>), so try this
on ubuntu if you are having problems.</p>
<img alt="../_images/sphx_glr_emoji_001.png" class="sphx-glr-single-img" src="../_images/sphx_glr_emoji_001.png" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <a href="../generated/wordcloud.WordCloud.html#wordcloud.WordCloud" title="View documentation for wordcloud.WordCloud"><span class="n">WordCloud</span></a>

<span class="c1"># get data directory (using getcwd() is needed to support running example in generated IPython notebook)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;__file__&quot;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>

<span class="c1"># It is important to use io.open to correctly load the file as UTF-8</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;happy-emoji.txt&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># the regex used to detect words is a combination of normal words, ascii art, and emojis</span>
<span class="c1"># 2+ consecutive letters (also include apostrophes), e.x It&#39;s</span>
<span class="n">normal_word</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;(?:\w[\w&#39;]+)&quot;</span>
<span class="c1"># 2+ consecutive punctuations, e.x. :)</span>
<span class="n">ascii_art</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;(?:[{punctuation}][{punctuation}]+)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">punctuation</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">punctuation</span><span class="p">)</span>
<span class="c1"># a single character that is not alpha_numeric or other ascii printable</span>
<span class="n">emoji</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;(?:[^\s])(?&lt;![\w{ascii_printable}])&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ascii_printable</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">printable</span><span class="p">)</span>
<span class="n">regexp</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;{normal_word}|{ascii_art}|{emoji}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">normal_word</span><span class="o">=</span><span class="n">normal_word</span><span class="p">,</span> <span class="n">ascii_art</span><span class="o">=</span><span class="n">ascii_art</span><span class="p">,</span>
                                                     <span class="n">emoji</span><span class="o">=</span><span class="n">emoji</span><span class="p">)</span>

<span class="c1"># Generate a word cloud image</span>
<span class="c1"># The Symbola font includes most emoji</span>
<span class="n">font_path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;fonts&#39;</span><span class="p">,</span> <span class="s1">&#39;Symbola&#39;</span><span class="p">,</span> <span class="s1">&#39;Symbola.ttf&#39;</span><span class="p">)</span>
<span class="n">wc</span> <span class="o">=</span> <a href="../generated/wordcloud.WordCloud.html#wordcloud.WordCloud" title="View documentation for wordcloud.WordCloud"><span class="n">WordCloud</span></a><span class="p">(</span><span class="n">font_path</span><span class="o">=</span><span class="n">font_path</span><span class="p">,</span> <span class="n">regexp</span><span class="o">=</span><span class="n">regexp</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

<span class="c1"># Display the generated image:</span>
<span class="c1"># the matplotlib way:</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wc</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Total running time of the script:</strong> ( 0 minutes  0.371 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-emoji-py">
<div class="sphx-glr-download docutils container">
<a class="reference download internal" download="" href="../_downloads/e6f098adebccc5619b49554f3bd78ef3/emoji.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">emoji.py</span></code></a></div>
<div class="sphx-glr-download docutils container">
<a class="reference download internal" download="" href="../_downloads/5eea90e3e82b25bb7446987ff8fb3326/emoji.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">emoji.ipynb</span></code></a></div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.readthedocs.io">Gallery generated by Sphinx-Gallery</a></p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="a_new_hope.html" class="btn btn-neutral float-right" title="Using custom colors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="colored.html" class="btn btn-neutral" title="Image-colored wordcloud" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Andreas Mueller

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>